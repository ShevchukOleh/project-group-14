var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},o=e.parcelRequired7c6;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in n){var o=n[e];delete n[e];var a={id:e,exports:{}};return t[e]=a,o.call(a.exports,a,a.exports),a.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){n[e]=t},e.parcelRequired7c6=o);var a={};function r(e){if("BUTTON"==e.target.nodeName)return e.target.dataset.id}a=function e(t,n,o){function a(i,s){if(!n[i]){if(!t[i]){var c=void 0;if(!s&&c)return c(i,!0);if(r)return r(i,!0);var l=new Error("Cannot find module '"+i+"'");throw l.code="MODULE_NOT_FOUND",l}var d=n[i]={exports:{}};t[i][0].call(d.exports,(function(e){return a(t[i][1][e]||e)}),d,d.exports,e,t,n,o)}return n[i].exports}for(var r=void 0,i=0;i<o.length;i++)a(o[i]);return a}({1:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.create=n.visible=void 0;var o=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=document.createElement("div");return n.innerHTML=e.trim(),!0===t?n.children:n.firstChild},a=function(e,t){var n=e.children;return 1===n.length&&n[0].tagName===t},r=function(e){return null!=(e=e||document.querySelector(".basicLightbox"))&&!0===e.ownerDocument.body.contains(e)};n.visible=r,n.create=function(e,t){var n=function(e,t){var n=o('\n\t\t<div class="basicLightbox '.concat(t.className,'">\n\t\t\t<div class="basicLightbox__placeholder" role="dialog"></div>\n\t\t</div>\n\t')),r=n.querySelector(".basicLightbox__placeholder");e.forEach((function(e){return r.appendChild(e)}));var i=a(r,"IMG"),s=a(r,"VIDEO"),c=a(r,"IFRAME");return!0===i&&n.classList.add("basicLightbox--img"),!0===s&&n.classList.add("basicLightbox--video"),!0===c&&n.classList.add("basicLightbox--iframe"),n}(e=function(e){var t="string"==typeof e,n=e instanceof HTMLElement==1;if(!1===t&&!1===n)throw new Error("Content must be a DOM element/node or string");return!0===t?Array.from(o(e,!0)):"TEMPLATE"===e.tagName?[e.content.cloneNode(!0)]:Array.from(e.children)}(e),t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(null==(e=Object.assign({},e)).closable&&(e.closable=!0),null==e.className&&(e.className=""),null==e.onShow&&(e.onShow=function(){}),null==e.onClose&&(e.onClose=function(){}),"boolean"!=typeof e.closable)throw new Error("Property `closable` must be a boolean");if("string"!=typeof e.className)throw new Error("Property `className` must be a string");if("function"!=typeof e.onShow)throw new Error("Property `onShow` must be a function");if("function"!=typeof e.onClose)throw new Error("Property `onClose` must be a function");return e}(t)),i=function(e){return!1!==t.onClose(s)&&function(e,t){return e.classList.remove("basicLightbox--visible"),setTimeout((function(){return!1===r(e)||e.parentElement.removeChild(e),t()}),410),!0}(n,(function(){if("function"==typeof e)return e(s)}))};!0===t.closable&&n.addEventListener("click",(function(e){e.target===n&&i()}));var s={element:function(){return n},visible:function(){return r(n)},show:function(e){return!1!==t.onShow(s)&&function(e,t){return document.body.appendChild(e),setTimeout((function(){requestAnimationFrame((function(){return e.classList.add("basicLightbox--visible"),t()}))}),10),!0}(n,(function(){if("function"==typeof e)return e(s)}))},close:i};return s}},{}]},{},[1])(1);var i=o("cYYIA");const s=new class{constructor(){this.searchQuery="",this.pageTMDB=1,this.TMDB_API="https://api.themoviedb.org/3/",this.MY_TMDB_KEY="3f36abdfc741814416ed3a9d78fd33b6"}async getMoviesSearch(){return fetch(`${this.TMDB_API}search/keyword?api_key=${this.MY_TMDB_KEY}&query=${this.searchQuery}`).then((e=>{if(!e.ok)throw new Error(e.status);return e.json()}))}async getMoviesTop(){return fetch(`${this.TMDB_API}trending/movie/day?api_key=${this.MY_TMDB_KEY}&id`).then((e=>{if(!e.ok)throw new Error(e.status);return e.json()}))}async getMovieId(e){return fetch(`${this.TMDB_API}movie/${e}?api_key=${this.MY_TMDB_KEY}&language=en-US`).then((e=>{if(!e.ok)throw new Error(e.status);return this.incrementPage(),e.json()}))}incrementPage(){this.pageTMDB+=1}resetPage(){this.pageTMDB=1}get query(){return this.searchQuery}set query(e){this.searchQuery=e}};document.querySelector(".container-body").addEventListener("click",(async function(e){if("DIV"!=e.target.nodeName&&"LI"!=e.target.nodeName&&"IMG"!=e.target.nodeName&&"P"!=e.target.nodeName&&"B"!=e.target.nodeName)return;if(!e.target.dataset.mvid)return;await s.getMovieId(e.target.dataset.mvid).then((({genres:e,poster_path:t,original_title:n,popularity:o,overview:s,vote_average:l,vote_count:d,title:u,id:m})=>{let p=t?`https://image.tmdb.org/t/p/w500${t}`:"hideme";const h={id:m,vote:l,votes:d,genres:e.map((e=>` ${e.name}`)),title:u||n,img:p,popularity:o,origin_title:n||u,about:s},f=c(h),_=a.create(f);_.show((()=>{(0,i.initModalButtonsHandler)();const e=document.querySelector(".modal__close");function t(){_.close()}e.addEventListener("click",t),document.addEventListener("keydown",(function n(o){"Escape"!==o.key&&" "!==o.key&&"Enter"!==o.key||_.close();a.visible()||(document.removeEventListener("keydown",n),e.removeEventListener("click",t))}))}));const v={modal:document.querySelector(".basicLightbox__placeholder")};v.modal.addEventListener("click",r),v.modal.insertAdjacentHTML("beforeend",'\n\t\t<button class="modal__close">\n\t\t\t<svg class="modal__close-icon" width="30px" height="30px" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t<polygon points="340.2,160 255.8,244.3 171.8,160.4 160,172.2 244,256 160,339.9 171.8,351.6 255.8,267.8 340.2,352 352,340.3 267.6,256 352,171.8"></polygon>\n\t\t\t</svg>\n\t\t</button>\n\t')})).catch((e=>console.log(e)))}));const c=o("amrNH").compile("<div class='modal modal-click'>\n    <div class='modal__container-picture'>\n      <img class='modal__picture' src={{img}} alt='icon-film'/>\n    </div>\n    <div>\n      <h2 class='modal__title'>{{title}}</h2>\n      <div class='modal__char'><span class='modal__char-name'>Vote / Votes</span>\n        <p class='modal__char-api'><span class='modal__char-api modal__vote'>{{vote}}</span> / <span class='modal__char-api'>{{votes}}</span></p>\n      </div>\n      <p class='modal__char'><span class='modal__char-name'>Popularity</span><span class='modal__char-api'>{{popularity}}</span></p>\n      <p class='modal__char'><span class='modal__char-name'>Original Title</span><span class='modal__char-api'>{{origin_title}}</span></p>\n      <p class='modal__char modal__char-mb'><span class='modal__char-name'>Genre</span><span class='modal__char-api'>{{genres}}</span></p>\n      <p class='modal__about-title'>About</p><p class='modal__about-text'>{{about}}</p>\n      <div class='modal__btn-container'>\n        <button class='modal__btn modal__btn-mr' type='button' data-btn-type=\"modal-btn-watched\" data-id={{id}}>ADD TO WATCHED</button>\n        <button class='modal__btn' type='button' data-btn-type=\"modal-btn-queue\" data-id={{id}}>ADD TO QUEUE</button>\n      </div>\n    </div>\n  </div>");
//# sourceMappingURL=library.c906276b.js.map
