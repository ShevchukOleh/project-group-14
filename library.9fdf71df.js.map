{"mappings":"gfAAAA,EAAA,SCAA,IAAAC,EAAAD,EAAA,S,uCAKA,MAAME,EAAO,CACXC,iBAAkBC,SAASC,cAAc,wBACzCC,eAAgBF,SAASC,cAAc,sBACvCE,iBAAkBH,SAASC,cAAc,mBAG3CH,EAAKC,iBAAiBK,iBAAiB,SAGvCC,eAAsCC,IACpC,EAAAC,EAAAC,aACA,MAAMC,GAAc,EAAAC,EAAAC,eAAcd,EAAAe,0BAA0BC,iBACtDC,QAAeC,EAAwBN,GAE7C,OADA,EAAAF,EAAAS,cACQlB,EAAKK,iBAAiBc,UAAYH,C,IAP5ChB,EAAKI,eAAeE,iBAAiB,SAUrCC,eAAqCC,IACnC,EAAAC,EAAAC,aACA,MAAMU,GAAY,EAAAR,EAAAC,eAAcd,EAAAe,0BAA0BO,eACpDL,QAAeC,EAAwBG,GAG7C,OAFA,EAAAX,EAAAS,cAEQlB,EAAKK,iBAAiBc,UAAYH,C,IAW5C,SAASC,EAAwBK,GAC/B,OAAOA,EACJC,KAAI,EAACC,OAAEA,EAAMC,YAAEA,EAAWC,MAAEA,EAAKC,eAAEA,EAAcC,aAAEA,EAAYC,GAAEA,KACzD,sCAAsCA,kFAEnBC,EAAAC,qBAAqBN,kBAA4BE,gBAA6BE,gHAE/CA,+DACNA,4CACnBA,MAAOH,EAAMM,wGAEOH,kEACEA,MApB1C,CAAAL,IAChB,MAAMS,EAAST,EACZU,MAAM,EAAG,GACTX,KAAI,EAACY,KAAEA,KAAWA,IAClBC,KAAK,MACR,OAAOZ,EAAOa,OAAS,EAAIJ,EAAS,UAAYA,CAAM,EAeWK,CAC3Dd,mEAEkDK,MAAOD,uFAK5DQ,KAAK,G","sources":["src/library.js","src/js/watched-queue-libery.js"],"sourcesContent":["import './js/modalControl.js';\nimport './js/watched-queue-libery.js';\nimport './js/modal.js';\nimport './js/search-by-keyword.js';\nimport './js/fetch-popular-render.js';","import { LOCAL_STORAGE_FIELDS_NAME } from '../constant/constant';\nimport { getListOfFilm } from './localStore';\nimport { BASE_IMAGE_URL } from './render-gallery';\nimport { spinnerOn, spinnerOff } from './spinner';\n\nconst refs = {\n  btnHeaderWatched: document.querySelector('button[data-watched]'),\n  btnHeaderQueue: document.querySelector('button[data-queue]'),\n  galleryContainer: document.querySelector('.library-films'),\n};\n\nrefs.btnHeaderWatched.addEventListener('click', onBtnHeaderWathedClick);\nrefs.btnHeaderQueue.addEventListener('click', onBtnHeaderQueueClick);\n\nasync function onBtnHeaderWathedClick(e) {\n  spinnerOn();\n  const listWatches = getListOfFilm(LOCAL_STORAGE_FIELDS_NAME.LIST_OF_WATCHES);\n  const markup = await createGalleryCardMarkup(listWatches);\n  spinnerOff();\n  return (refs.galleryContainer.innerHTML = markup);\n}\n\nasync function onBtnHeaderQueueClick(e) {\n  spinnerOn();\n  const listQueue = getListOfFilm(LOCAL_STORAGE_FIELDS_NAME.LIST_OF_QUEUE);\n  const markup = await createGalleryCardMarkup(listQueue);\n  spinnerOff();\n\n  return (refs.galleryContainer.innerHTML = markup);\n}\n\nconst getGenres = genres => {\n  const result = genres\n    .slice(0, 2)\n    .map(({ name }) => name)\n    .join(', ');\n  return genres.length > 2 ? result + ', Other' : result;\n};\n\nfunction createGalleryCardMarkup(films) {\n  return films\n    .map(({ genres, poster_path, title, original_title, release_date, id }) => {\n      return `<li class=\"films__item\" data-mvid='${id}'>\n                  <div class=\"films__img\">\n                    <img src=\"${BASE_IMAGE_URL}w500${poster_path}\" alt='Poster ${original_title}'data-mvid='${id}' loading='lazy' />\n                  </div>\n                  <div class=\"films__description\" data-mvid='${id}'>\n                    <p class=\"films__title\" data-mvid='${id}'>\n                      <b data-mvid='${id}'>${title.toUpperCase()}</b>\n                    </p>\n                    <div class=\"films__meta\" data-mvid='${id}'>\n                      <p class=\"films__genres\" data-mvid='${id}'>${getGenres(\n        genres\n      )}</p>\n                      <p class=\"films__data\" data-mvid='${id}'>${release_date}</p>\n                    </div>\n                  </div>\n                </li>`;\n    })\n    .join('');\n}\n"],"names":["parcelRequire","$eNhUV","$325f1d826ff802f7$var$refs","btnHeaderWatched","document","querySelector","btnHeaderQueue","galleryContainer","addEventListener","async","e","$j1lrD","spinnerOn","listWatches","$iG28c","getListOfFilm","LOCAL_STORAGE_FIELDS_NAME","LIST_OF_WATCHES","markup","$325f1d826ff802f7$var$createGalleryCardMarkup","spinnerOff","innerHTML","listQueue","LIST_OF_QUEUE","films","map","genres","poster_path","title","original_title","release_date","id","$faNkY","BASE_IMAGE_URL","toUpperCase","result","slice","name","join","length","$325f1d826ff802f7$var$getGenres"],"version":3,"file":"library.9fdf71df.js.map"}