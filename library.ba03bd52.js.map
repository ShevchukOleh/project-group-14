{"mappings":"oeAEA,IAAAA,EAAAC,EAAA,S,0BAIA,MAAMC,EAAO,CACXC,iBAAkBC,SAASC,cAAc,wBACzCC,eAAgBF,SAASC,cAAc,sBACvCE,iBAAkBH,SAASC,cAAc,mBAG3CH,EAAKC,iBAAiBK,iBAAiB,SAIvCC,eAAsCC,GACpC,MAAMC,GAAc,EAAAC,EAAAC,eAAcb,EAAAc,0BAA0BC,iBACtDC,QAAeC,EAAwBN,GAC7C,OAAOT,EAAKK,iBAAiBW,UAAYF,C,IAN3Cd,EAAKI,eAAeE,iBAAiB,SASrCC,eAAqCC,GACnC,MAAMS,GAAY,EAAAP,EAAAC,eAAcb,EAAAc,0BAA0BM,eACpDJ,QAAeC,EAAwBE,GAC7C,OAAOjB,EAAKK,iBAAiBW,UAAYF,C,IAQ3C,SAASC,EAAwBI,GAC/B,OAAOA,EAAMC,KAAI,EAACC,OAChBA,EAAMC,YACNA,EAAWC,MACXA,EAAKC,eACLA,EAAcC,aACdA,EAAYC,GACZA,KACO,sCAAsCA,kFAEjBC,EAAAC,qBAAqBN,kBAA4BE,gBAA6BE,gHAE/CA,+DACNA,4CACnBA,MAAOH,EAAMM,wGAEOH,kEACEA,MAtB1C,CAACL,IACjB,MAAMS,EAAST,EAAOU,MAAM,EAAG,GAAGX,KAAI,EAACY,KAAEA,KAAWA,IAAMC,KAAK,MAC/D,OAAOZ,EAAOa,OAAS,EAAIJ,EAAS,UAAYA,CAAM,EAoBWK,CAAUd,mEACnBK,MAAOD,uFAM5DQ,KAAK,G","sources":["src/js/watched-queue-libery.js"],"sourcesContent":["\n       \nimport { LOCAL_STORAGE_FIELDS_NAME } from \"../constant/constant\";\nimport { getListOfFilm } from \"./localStore\";\nimport { BASE_IMAGE_URL } from './render-gallery';\n\nconst refs = {\n  btnHeaderWatched: document.querySelector('button[data-watched]'),\n  btnHeaderQueue: document.querySelector('button[data-queue]'),\n  galleryContainer: document.querySelector('.library-films')\n};\n\nrefs.btnHeaderWatched.addEventListener('click', onBtnHeaderWathedClick);\nrefs.btnHeaderQueue.addEventListener('click', onBtnHeaderQueueClick);\n\n\nasync function onBtnHeaderWathedClick(e) {\n  const listWatches = getListOfFilm(LOCAL_STORAGE_FIELDS_NAME.LIST_OF_WATCHES);\n  const markup = await createGalleryCardMarkup(listWatches);\n  return refs.galleryContainer.innerHTML = markup;\n};\n\nasync function onBtnHeaderQueueClick(e) {\n  const listQueue = getListOfFilm(LOCAL_STORAGE_FIELDS_NAME.LIST_OF_QUEUE);\n  const markup = await createGalleryCardMarkup(listQueue);\n  return refs.galleryContainer.innerHTML = markup;\n};\n\nconst getGenres = (genres) => {\n  const result = genres.slice(0, 2).map(({ name }) => name).join(', ')\n  return genres.length > 2 ? result + ', Other' : result\n}\n\nfunction createGalleryCardMarkup(films) {\n  return films.map(({\n    genres,\n    poster_path,\n    title,\n    original_title,\n    release_date,\n    id, }) => {\n    return `<li class=\"films__item\" data-mvid='${id}'>\n                  <div class=\"films__img\">\n                    <img src=\"${BASE_IMAGE_URL}w500${poster_path}\" alt='Poster ${original_title}'data-mvid='${id}' loading='lazy' />\n                  </div>\n                  <div class=\"films__description\" data-mvid='${id}'>\n                    <p class=\"films__title\" data-mvid='${id}'>\n                      <b data-mvid='${id}'>${title.toUpperCase()}</b>\n                    </p>\n                    <div class=\"films__meta\" data-mvid='${id}'>\n                      <p class=\"films__genres\" data-mvid='${id}'>${getGenres(genres)}</p>\n                      <p class=\"films__data\" data-mvid='${id}'>${release_date}</p>\n                    </div>\n                  </div>\n                </li>`\n  }\n  )\n    .join('');\n};"],"names":["$d7L4d","parcelRequire","$0b231383bec85a2c$var$refs","btnHeaderWatched","document","querySelector","btnHeaderQueue","galleryContainer","addEventListener","async","e","listWatches","$8VXzW","getListOfFilm","LOCAL_STORAGE_FIELDS_NAME","LIST_OF_WATCHES","markup","$0b231383bec85a2c$var$createGalleryCardMarkup","innerHTML","listQueue","LIST_OF_QUEUE","films","map","genres","poster_path","title","original_title","release_date","id","$34HY9","BASE_IMAGE_URL","toUpperCase","result","slice","name","join","length","$0b231383bec85a2c$var$getGenres"],"version":3,"file":"library.ba03bd52.js.map"}