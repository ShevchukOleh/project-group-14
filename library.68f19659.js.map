{"mappings":"oeAAAA,EAAA,SCAA,IAAAC,EAAAD,EAAA,S,uCAKA,MAAME,EAAO,CACXC,iBAAkBC,SAASC,cAAc,wBACzCC,eAAgBF,SAASC,cAAc,sBACvCE,iBAAkBH,SAASC,cAAc,mBAM3CG,eAAeC,EAAuBC,IACpC,EAAAC,EAAAC,aACA,MAAMC,GAAc,EAAAC,EAAAC,eAAcd,EAAAe,0BAA0BC,iBACtDC,QAAeC,EAAwBN,GAK7C,OAHAX,EAAKC,iBAAiBiB,UAAUC,IAAI,UACpCnB,EAAKI,eAAec,UAAUE,OAAO,WACrC,EAAAX,EAAAY,cACQrB,EAAKK,iBAAiBiB,UAAYN,C,CAX5ChB,EAAKC,iBAAiBsB,iBAAiB,QAAShB,GAChDP,EAAKI,eAAemB,iBAAiB,SAcrCjB,eAAqCE,IACnC,EAAAC,EAAAC,aACA,MAAMc,GAAY,EAAAZ,EAAAC,eAAcd,EAAAe,0BAA0BW,eACpDT,QAAeC,EAAwBO,GAM7C,OAJAxB,EAAKC,iBAAiBiB,UAAUE,OAAO,UACvCpB,EAAKI,eAAec,UAAUC,IAAI,WAClC,EAAAV,EAAAY,cAEQrB,EAAKK,iBAAiBiB,UAAYN,C,IAX5CU,YAAW,IAAKnB,KAA0B,KAsB1C,SAASU,EAAwBU,GAC/B,OAAOA,EACJC,KAAI,EAACC,OAAEA,EAAMC,YAAEA,EAAWC,MAAEA,EAAKC,eAAEA,EAAcC,aAAEA,EAAYC,GAAEA,KACzD,sCAAsCA,kFAEnBC,EAAAC,qBAAqBN,kBAA4BE,gBAA6BE,gHAE/CA,+DACNA,4CACnBA,MAAOH,EAAMM,wGAEOH,kEACEA,MApB1C,CAAAL,IAChB,MAAMS,EAAST,EACZU,MAAM,EAAG,GACTX,KAAI,EAACY,KAAEA,KAAWA,IAClBC,KAAK,MACR,OAAOZ,EAAOa,OAAS,EAAIJ,EAAS,UAAYA,CAAM,EAeWK,CAC3Dd,mEAEkDK,MAAOD,EAAaM,MAAM,EAAG,wFAKlFE,KAAK,G","sources":["src/library.js","src/js/watched-queue-libery.js"],"sourcesContent":["import './js/modalControl.js';\nimport './js/watched-queue-libery.js';\nimport './js/modal.js';\nimport './js/search-by-keyword.js';\nimport './js/fetch-popular-render.js';","import { LOCAL_STORAGE_FIELDS_NAME } from '../constant/constant';\nimport { getListOfFilm } from './localStore';\nimport { BASE_IMAGE_URL } from './render-gallery';\nimport { spinnerOn, spinnerOff } from './spinner';\n\nconst refs = {\n  btnHeaderWatched: document.querySelector('button[data-watched]'),\n  btnHeaderQueue: document.querySelector('button[data-queue]'),\n  galleryContainer: document.querySelector('.library-films'),\n};\n\nrefs.btnHeaderWatched.addEventListener('click', onBtnHeaderWathedClick);\nrefs.btnHeaderQueue.addEventListener('click', onBtnHeaderQueueClick);\n\nasync function onBtnHeaderWathedClick(e) {\n  spinnerOn();\n  const listWatches = getListOfFilm(LOCAL_STORAGE_FIELDS_NAME.LIST_OF_WATCHES);\n  const markup = await createGalleryCardMarkup(listWatches);\n\n  refs.btnHeaderWatched.classList.add('active')\n  refs.btnHeaderQueue.classList.remove('active')\n  spinnerOff();\n  return (refs.galleryContainer.innerHTML = markup);\n}\nsetTimeout(()=> onBtnHeaderWathedClick(), 100);\n\nasync function onBtnHeaderQueueClick(e) {\n  spinnerOn();\n  const listQueue = getListOfFilm(LOCAL_STORAGE_FIELDS_NAME.LIST_OF_QUEUE);\n  const markup = await createGalleryCardMarkup(listQueue);\n\n  refs.btnHeaderWatched.classList.remove('active')\n  refs.btnHeaderQueue.classList.add('active')\n  spinnerOff();\n\n  return (refs.galleryContainer.innerHTML = markup);\n}\n\nconst getGenres = genres => {\n  const result = genres\n    .slice(0, 2)\n    .map(({ name }) => name)\n    .join(', ');\n  return genres.length > 2 ? result + ', Other' : result;\n};\n\nfunction createGalleryCardMarkup(films) {\n  return films\n    .map(({ genres, poster_path, title, original_title, release_date, id }) => {\n      return `<li class=\"films__item\" data-mvid='${id}'>\n                  <div class=\"films__img\">\n                    <img src=\"${BASE_IMAGE_URL}w500${poster_path}\" alt='Poster ${original_title}'data-mvid='${id}' loading='lazy' />\n                  </div>\n                  <div class=\"films__description\" data-mvid='${id}'>\n                    <p class=\"films__title\" data-mvid='${id}'>\n                      <b data-mvid='${id}'>${title.toUpperCase()}</b>\n                    </p>\n                    <div class=\"films__meta\" data-mvid='${id}'>\n                      <p class=\"films__genres\" data-mvid='${id}'>${getGenres(\n        genres\n      )}</p>\n                      <p class=\"films__data\" data-mvid='${id}'>${release_date.slice(0, 4)}</p>\n                    </div>\n                  </div>\n                </li>`;\n    })\n    .join('');\n}\n"],"names":["parcelRequire","$d7L4d","$0b231383bec85a2c$var$refs","btnHeaderWatched","document","querySelector","btnHeaderQueue","galleryContainer","async","$0b231383bec85a2c$var$onBtnHeaderWathedClick","e","$04jNI","spinnerOn","listWatches","$8VXzW","getListOfFilm","LOCAL_STORAGE_FIELDS_NAME","LIST_OF_WATCHES","markup","$0b231383bec85a2c$var$createGalleryCardMarkup","classList","add","remove","spinnerOff","innerHTML","addEventListener","listQueue","LIST_OF_QUEUE","setTimeout","films","map","genres","poster_path","title","original_title","release_date","id","$34HY9","BASE_IMAGE_URL","toUpperCase","result","slice","name","join","length","$0b231383bec85a2c$var$getGenres"],"version":3,"file":"library.68f19659.js.map"}