{"mappings":"oeAAAA,EAAA,SCAA,IAAAC,EAAAD,EAAA,S,uCAKA,MAAME,EAAO,CACXC,iBAAkBC,SAASC,cAAc,wBACzCC,eAAgBF,SAASC,cAAc,sBACvCE,iBAAkBH,SAASC,cAAc,mBAM3CG,eAAeC,EAAuBC,IACpC,EAAAC,EAAAC,aACA,MAAMC,GAAc,EAAAC,EAAAC,eAAcd,EAAAe,0BAA0BC,iBAEtDC,QAAeC,EAAwBN,GAK7C,GAHAX,EAAKC,iBAAiBiB,UAAUC,IAAI,UACpCnB,EAAKI,eAAec,UAAUE,OAAO,WACrC,EAAAX,EAAAY,cAC2B,IAAvBV,EAAYW,OAKhB,OAAQtB,EAAKK,iBAAiBkB,UAAYP,EAJxChB,EAAKK,iBAAiBkB,UACpB,2H,CAdNvB,EAAKC,iBAAiBuB,iBAAiB,QAASjB,GAChDP,EAAKI,eAAeoB,iBAAiB,SAoBrClB,eAAqCE,IACnC,EAAAC,EAAAC,aACA,MAAMe,GAAY,EAAAb,EAAAC,eAAcd,EAAAe,0BAA0BY,eACpDV,QAAeC,EAAwBQ,GAM7C,GAJAzB,EAAKC,iBAAiBiB,UAAUE,OAAO,UACvCpB,EAAKI,eAAec,UAAUC,IAAI,WAClC,EAAAV,EAAAY,cAEyB,IAArBI,EAAUH,OAGZ,YAFAtB,EAAKK,iBAAiBkB,UACpB,6HAGJ,OAAQvB,EAAKK,iBAAiBkB,UAAYP,C,IAhB5CW,YAAW,IAAMpB,KAA0B,KA2B3C,SAASU,EAAwBW,GAC/B,OAAOA,EACJC,KAAI,EAACC,OAAEA,EAAMC,YAAEA,EAAWC,MAAEA,EAAKC,eAAEA,EAAcC,aAAEA,EAAYC,GAAEA,KACzD,sCAAsCA,kFAEnBC,EAAAC,qBAAqBN,kBAA4BE,gBAA6BE,gHAE/CA,+DACNA,4CACnBA,MAAOH,EAAMM,wGAEOH,kEACEA,MApB1C,CAAAL,IAChB,MAAMS,EAAST,EACZU,MAAM,EAAG,GACTX,KAAI,EAACY,KAAEA,KAAWA,IAClBC,KAAK,MACR,OAAOZ,EAAOR,OAAS,EAAIiB,EAAS,UAAYA,CAAM,EAeWI,CAC3Db,mEAEkDK,MAAOD,EAAaM,MACtE,EACA,wFAMHE,KAAK,G","sources":["src/library.js","src/js/watched-queue-libery.js"],"sourcesContent":["import './js/modalControl.js';\nimport './js/watched-queue-libery.js';\nimport './js/modal.js';\nimport './js/search-by-keyword.js';\nimport './js/fetch-popular-render.js';\nimport './js/modal-footer-team.js'\nimport './js/swith.js';\n","import { LOCAL_STORAGE_FIELDS_NAME } from '../constant/constant';\nimport { getListOfFilm } from './localStore';\nimport { BASE_IMAGE_URL } from './render-gallery';\nimport { spinnerOn, spinnerOff } from './spinner';\n\nconst refs = {\n  btnHeaderWatched: document.querySelector('button[data-watched]'),\n  btnHeaderQueue: document.querySelector('button[data-queue]'),\n  galleryContainer: document.querySelector('.library-films'),\n};\n\nrefs.btnHeaderWatched.addEventListener('click', onBtnHeaderWathedClick);\nrefs.btnHeaderQueue.addEventListener('click', onBtnHeaderQueueClick);\n\nasync function onBtnHeaderWathedClick(e) {\n  spinnerOn();\n  const listWatches = getListOfFilm(LOCAL_STORAGE_FIELDS_NAME.LIST_OF_WATCHES);\n\n  const markup = await createGalleryCardMarkup(listWatches);\n\n  refs.btnHeaderWatched.classList.add('active');\n  refs.btnHeaderQueue.classList.remove('active');\n  spinnerOff();\n  if (listWatches.length === 0) {\n    refs.galleryContainer.innerHTML =\n      '<li style=\"color: #b92f2c;margin-left: auto; margin-right: auto; text-align: center\">Your list empty! Add any films!</li>';\n    return;\n  }\n  return (refs.galleryContainer.innerHTML = markup);\n}\nsetTimeout(() => onBtnHeaderWathedClick(), 100);\n\nasync function onBtnHeaderQueueClick(e) {\n  spinnerOn();\n  const listQueue = getListOfFilm(LOCAL_STORAGE_FIELDS_NAME.LIST_OF_QUEUE);\n  const markup = await createGalleryCardMarkup(listQueue);\n\n  refs.btnHeaderWatched.classList.remove('active');\n  refs.btnHeaderQueue.classList.add('active');\n  spinnerOff();\n\n  if (listQueue.length === 0) {\n    refs.galleryContainer.innerHTML =\n      '<li style=\"color: #b92f2c;margin-left: auto; margin-right: auto; text-align: center\">Your list empty! Add any films!</li>';\n    return;\n  }\n  return (refs.galleryContainer.innerHTML = markup);\n}\n\nconst getGenres = genres => {\n  const result = genres\n    .slice(0, 2)\n    .map(({ name }) => name)\n    .join(', ');\n  return genres.length > 2 ? result + ', Other' : result;\n};\n\nfunction createGalleryCardMarkup(films) {\n  return films\n    .map(({ genres, poster_path, title, original_title, release_date, id }) => {\n      return `<li class=\"films__item\" data-mvid='${id}'>\n                  <div class=\"films__img\">\n                    <img src=\"${BASE_IMAGE_URL}w500${poster_path}\" alt='Poster ${original_title}'data-mvid='${id}' loading='lazy' />\n                  </div>\n                  <div class=\"films__description\" data-mvid='${id}'>\n                    <p class=\"films__title\" data-mvid='${id}'>\n                      <b data-mvid='${id}'>${title.toUpperCase()}</b>\n                    </p>\n                    <div class=\"films__meta\" data-mvid='${id}'>\n                      <p class=\"films__genres\" data-mvid='${id}'>${getGenres(\n        genres\n      )}</p>\n                      <p class=\"films__data\" data-mvid='${id}'>${release_date.slice(\n        0,\n        4\n      )}</p>\n                    </div>\n                  </div>\n                </li>`;\n    })\n    .join('');\n}\n"],"names":["parcelRequire","$d7L4d","$0b231383bec85a2c$var$refs","btnHeaderWatched","document","querySelector","btnHeaderQueue","galleryContainer","async","$0b231383bec85a2c$var$onBtnHeaderWathedClick","e","$04jNI","spinnerOn","listWatches","$8VXzW","getListOfFilm","LOCAL_STORAGE_FIELDS_NAME","LIST_OF_WATCHES","markup","$0b231383bec85a2c$var$createGalleryCardMarkup","classList","add","remove","spinnerOff","length","innerHTML","addEventListener","listQueue","LIST_OF_QUEUE","setTimeout","films","map","genres","poster_path","title","original_title","release_date","id","$34HY9","BASE_IMAGE_URL","toUpperCase","result","slice","name","join","$0b231383bec85a2c$var$getGenres"],"version":3,"file":"library.0c588059.js.map"}